{
  "WorkItem": {
    "AffectedComponent": {
      "Name": "",
      "DisplayName": ""
    },
    "ClosedComment": "fixed in v0.1.1.0",
    "ClosedDate": "2015-05-13T19:04:06.633-07:00",
    "CommentCount": 4,
    "Custom": "",
    "Description": "Thanks for creating and sharing such a great component!\n\nI found that the ADGV had problems filtering strings which had curly braces in them.  Since cell string values are later used within the format string passed to StringBuilder.AppendFormat an exception would occur. \n\nI modified the FormatString method in ADGVFilterMenu.cs to escape curly braces in format strings by doubling up on them:\n\n``` C#\n        private String FormatString(String Text)\n        {\n            String result = \"\";\n            String s;\n            String[] replace = { \"%\", \"[\", \"]\", \"*\", \"\\\"\", \"`\", \"\\\\\" };\n\n            for (Int32 i = 0; i < Text.Length; i++)\n            {\n                s = Text[i].ToString();\n                if (replace.Contains(s))\n                    result += \"[\" + s + \"]\";\n                else if (s == \"{\")\n                    result += \"{{\";\n                else if (result == \"}\")\n                    result += \"}}\";\n                else\n                    result += s;\n            }\n\n            return result.Replace(\"'\", \"''\");\n        }\n```",
    "LastUpdatedDate": "2015-05-13T19:04:06.633-07:00",
    "PlannedForRelease": "",
    "ReleaseVisibleToPublic": false,
    "Priority": {
      "Name": "Unassigned",
      "Severity": 0,
      "Id": 0
    },
    "ProjectName": "adgv",
    "ReportedDate": "2015-03-03T13:34:45.463-08:00",
    "Status": {
      "Name": "Closed",
      "Id": 4
    },
    "ReasonClosed": {
      "Name": "Unassigned"
    },
    "Summary": "Exception thrown when filtering on strings with curly braces.",
    "Type": {
      "Name": "Unassigned",
      "Id": 5
    },
    "VoteCount": 1,
    "Id": 1549
  },
  "FileAttachments": [],
  "Comments": [
    {
      "Message": "Oops... the changed function should be:\r\n\r\n```c#        private String FormatString(String Text)        {            String result = \"\";            String s;            String[] replace = { \"%\", \"[\", \"]\", \"*\", \"\\\"\", \"`\", \"\\\\\" };\r\n\r\n            for (Int32 i = 0; i             {                s = Text[i].ToString();                if (replace.Contains(s))                    result += \"[\" + s + \"]\";                else if (s == \"{\")                    result += \"{{\";                else if (s == \"}\")                    result += \"}}\";                else                    result += s;            }\r\n\r\n            return result.Replace(\"'\", \"''\");        }```",
      "PostedDate": "2015-03-03T14:07:01.823-08:00",
      "Id": 184403
    },
    {
      "Message": "Hi arstorey!Can you test following code instead?\r\n\r\n```private String FormatString(String Text)        {           return Text.Replace(\"'\", \"''\").Replace(\"{\", \"{{\").Replace(\"}\", \"}}\");        }```I think that we realy dont need  all this replace = { \"%\", \"[\", \"]\", \"*\", \"\\\"\", \"`\", \"\\\\\" } symbolsAlso dont forget to change FormatString(String Text) method in SetFilterForm class\r\n\r\nThank you that you have found this bug!",
      "PostedDate": "2015-03-18T01:35:08.16-07:00",
      "Id": 184404
    },
    {
      "Message": "fixed in [release:611620]",
      "PostedDate": "2015-05-13T19:01:20.963-07:00",
      "Id": 184405
    },
    {
      "Message": "fixed in v0.1.1.0",
      "PostedDate": "2015-05-13T19:03:40.617-07:00",
      "Id": 184406
    }
  ]
}